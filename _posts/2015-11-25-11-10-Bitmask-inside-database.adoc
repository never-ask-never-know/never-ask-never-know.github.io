= 1+1 = 10. Bitmask inside database
:hp-image: cover_lines.jpg
:hp-tags: sqlserver, bitmask, setbased


2. Що таке бітмаска
3. моє рішення сет бейзд
4. Висновки

Цікаво, наскільки розповсюджене зараз, в час "панування" високорівневих мов програмування та великих об"ємів пам"яті, використання побітових операцій (bitwise) та бітових масок (bitmask)? Мені чомусь здавалось, що двійкова система счислення може бути корисною для тих, хто займається низько-рівневим програмуванням (ніколи не зустрічала таких людей, але сподіваюсь, що вони існують), ну або для написання якогось хитрого ресурсозберігаючого алгоритму (людей, що займаються такими речами для роботи, а не для хобі, я теж, нажаль, не зустрічала). Яким же було моє здивування, коли на одному проекті я побачила в коді операцію на зразок наступної: +

	if (Request.PermissionMask & (8) > 0)
		{...}

Невже! Невже шкільні знання з двійкової системи счислення стануть в нагоді для роботи! Як виявиться пізніше, на двох моїх минулих звичайнісіньких корпоративних проектах використовувались бітові маски. Одним з них була програма написана років так 15 назад (ну тут можна зрозуміти, може на час написання не було інших варіантів просто і там ніхто не думав про те, що код має бути зрозумілим і self-descriptive), але інший проект був відносно новим. Ні в тому, ні в іншому випадку проблеми економії пам"яті та проблеми обробки великих об"ємів даних не було. 

== Bitmask

Спробую пояснити своє здивування. Спочатку розповім, що таке бітова маска. Bitmask - це спосіб представити характеристики об"єкту за допомогою цифр 0 та 1 (ну, тому що *бітова* маска). Можна думати про бітову маску як про шифр: +

- Кожна цифра в числі відповідає за заздалегідь визначену властивість; 
- 0 може значити, наприклад, що певна властивість в об"єкті відсутня, а 1 - що присутня.

Для кращого розуміння, створимо бітові маски для кольорів. Є три базових кольори - червоний, зелений та жовтий. Змішуючи ці кольори ми можемо отримати всі інші.

Як бачите, застосування такого способу представлення об"єкту, не робить програму легкою для розуміння та подальшої підтримки, особливо, якщо розробник не задокументував свій шифр =) 

